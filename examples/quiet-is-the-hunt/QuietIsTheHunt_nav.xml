<mission_data version="1.0">
  <templates>
    <template name="NavPoint">
      <event name="${who} arrives ${what}">
        <if_distance name1 ="${who}" name2 ="${what}" comparator="<=" value="${distance}" />
        <if_variable name="${stateVar}" comparator="=" value="${state}" />
        <warning_popup_message message="${who} Reached ${what}" consoles="MO" player_slot ="0" />
        <set_variable name="${stateVar}" value="${stateVar}+1" />
      </event>
    </template>
    <template name="HasReturned">
      <start>
        <set_variable name="${stateVar}" value="0" integer="yes" />
      </start>
      <event name="${who} arrives ${ship}">
        <if_distance name1 ="${who}" player_slot2="${slot}" comparator="<=" value="${distance}" />
        <if_variable name="${stateVar}" comparator="=" value="${state}" />
        <warning_popup_message message="${who} Reached ${ship}" consoles="MO" player_slot ="${slot}" />
        <set_variable name="${stateVar}" value="${int(state)+1}" />
      </event>
      <event name="${who} docked">
        <if_not_exists name ="${who}" />
        <if_variable name="${stateVar}" comparator="=" value="${int(state)+1}" />
        <warning_popup_message message="${who} Docked" consoles="MO" player_slot ="${slot}" />
        <set_variable name="${stateVar}" value="${int(state)+2}" />
      </event>
    </template>
  </templates>
</mission_data>
