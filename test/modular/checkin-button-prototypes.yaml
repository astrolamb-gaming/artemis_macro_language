# Resuable Event Prototypes  
# Maybe the Messages could be 
# made generic for broader reuse      
event_prototypes:
  CheckinButton:
    name: "${ship} Checkin Button"
    # Have an expression syntax?
    conditions:
      - ${ship}_Checkin_Button == 1.0
      - "${ship}_here != 1.0"

    variable:
      "${ship}_here": 2.0
      "${ship}_Checkin_Button": 2.0

    commsButton:
      - text: ${ship} Press to Join Game
      - sideValue: ${sideValue}

    timer:
      - ${ship}_Checkin_Button: 10

  CheckinButtonRefresh:
    name: ${ship} Checkin Button Refresh
    conditions:
      - ${ship}_Checkin_Button == 2.0
      - if_timer_finished: ${ship}_Checkin_Button

    variable:
      ${ship}_Checkin_Button: 1.0

    commsButton:
      - text: "${ship} Press to Join Game"
        clear: true


  PressPlay:
    name: ${ship} Press Play
    conditions:
      - if_comms_button: ${ship} Press to Join Game

    variable:
      Artemis_here: 1
      Number_of_Players: Number_of_Players+1
    
    commsButton:   
      - text: ${ship} Press to Join Game
        clear: true
    incoming_comms_text:
      - from: CyberSecurity Suite IV
        sideValue: ${sideValue}
        type: FRIEND
        text: >
          Your anti-virus definitions are out of date. 
          Attempting to update.... Update Failed! 
          Could not connect to remote VAX server due to local sector interference. 
          Without updated virus definition we will be susceptible to cyber-attacks.
          Emergency manual protocols enacted. 
          I can warn of impending cyber-attack but you will have to manually remove them. 
          Choosing which safeguard program to run from the comms console.
      - from: Armory
        sideValue: ${sideValue}
        type: FRIEND
        text: >
          We just got our hands on some new ordinance in the last raid called TAGS. 
          Normally used for scientific research of local wildlife, but I can use their 
          data uplink capability to hack into an enemy ship and deploy a virus. 
          Fired the TAG like a torpedo, and once attached to a ship, choose a hacking
           program from the comms console. Be wary though I am sure others have figured 
           this out and will try the same thing against us.
      - from: Tractor Control
        sideValue: ${sideValue}
        type: FRIEND
        text: >
          We have equipped our ship with a Tractor for towing the eggs back since they are
           too big for our Cargo Hold. Eggs can only be towed at Impulse though if you jump we will
          lose control of the egg.
      - from: Hanger Bay
        sideValue: ${sideValue}
        type: FRIEND
        text: >
          It's as dense as whale soup out there.
          Luckily, I have converted one of our shuttles to a Drone.
           You can launch it with the button on your comms console. 
           With all the life-support and radiation shielding removed 
           this drone can travel faster than normal shuttles. 
           Use it to help survey and scout the area.
      - from: The Arena
        sideValue: ${sideValue}
        type: FRIEND
        text: >
          Welcome to the Arena. Collect the most Eggs to win! 
          Eggs must be towed to your station to score. 
          If you die you will respawn in |Respawn_Player_Time| seconds.
           If your station explodes it will respawn in |Respawn_Station_Time| seconds. 
           You have |Game_Timer| minutes. Good luck! 


  ResetWithPlayerCheckedIn:
    name: ${ship} Reset with Players Checked in
    conditions: 
      - if_timer_finished: "Player_Check"
      - Player_Check == 1.0
      - ${ship}_here == 1.0
      - if_exists: ${ship}

    destory:
      - ${ship}
      - ${ship} Station
